<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
  crossorigin="anonymous">

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
  crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
  crossorigin="anonymous"></script>

  

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="/path/to/bootstrap/js/bootstrap.min.js"></script>



<script src="https://code.jquery.com/jquery.js"></script>




<!-- 
<style>
		body, html {
    		height: 100%;
		}
		#image{
			background-image: url("https://images.pexels.com/photos/1006321/pexels-photo-1006321.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940"); 
			/* Center and scale the image nicely */
			background-position: center;
			background-repeat: no-repeat;
			background-size: cover;
			opacity: .9; -->
<!-- }
		h2 {
			/* font-family: 'Lobster', cursive;
			color: rgb(255, 238, 0); */
			text-align: center;
			font-size: 50px;
			
		}
		h3, footer {
			/* font-family: 'Montserrat', sans-serif;
			color: rgb(202, 5, 5); */
		}
		h4 {
			/* font-family: 'Montserrat', sans-serif;
			color: rgb(0, 0, 0); */
		}
		#resultsModal {
			/* background-color: rgba(59, 55, 55, 0.664); */
		}
		.modal-title {
			/* font-family: 'Montserrat', sans-serif;
			color: black; */
		}
		#matchName{
			/* font-family: 'Montserrat', sans-serif;
			color: black;
			<!-- text-align: center; */
		<!-- }
	</style> -->



<body>







  <h2>

    Survey Questions</h2>

  <hr>

  <h3>
    <strong>About You</strong>
  </h3>
  <h4>Name (Required)</h4>
  <input type="text" id="name" class="form-control" required>

  <h4>Link to Photo Image (Required)</h4>
  <input type="text" id="photo" class="form-control" required>





  <hr>

  <h3>
    <strong>Question 1</strong>
  </h3>
  <h4>You are more comfortable with "new age" healthcare.</h4>
  <select class="chosen-select" id="q1">
    <option value=""></option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
  </select>

  <h3>
    <strong>Question 2</strong>
  </h3>
  <h4>You prefer your doctor to have an extensive reputation.</h4>
  <select class="chosen-select" id="q2">
    <option value=""></option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
  </select>


  <h3>
    <strong>Question 3</strong>
  </h3>
  <h4>Often times, you feel superior to those around you.</h4>
  <select class="chosen-select" id="q3">
    <option value=""></option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
  </select>


  <h3>
    <strong>Question 4</strong>
  </h3>
  <h4>You feel beside yourself at times.</h4>
  <select class="chosen-select" id="q4">
    <option value=""></option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
  </select>


  <h3>
    <strong>Question 5</strong>
  </h3>
  <h4>You like your Healthcare to be carbonated.</h4>
  <select class="chosen-select" id="q5">
    <option value=""></option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
  </select>


  <h3>
    <strong>Question 6</strong>
  </h3>
  <h4>You're more comfortable with stranger things.</h4>
  <select class="chosen-select" id="q6">
    <option value=""></option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
  </select>


  <h3>
    <strong>Question 7</strong>
  </h3>
  <h4>You are constantly thirsty for bloo....I mean, juice.</h4>
  <select class="chosen-select" id="q7">
    <option value=""></option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
  </select>

  <h3>
    <strong>Question 8</strong>
  </h3>
  <h4>You have a distain for law enforcement.</h4>
  <select class="chosen-select" id="q8">
    <option value=""></option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
  </select>

  <h3>
    <strong>Question 9</strong>
  </h3>
  <h4>You like to travel frequently, be it through time or space.</h4>
  <select class="chosen-select" id="q9">
    <option value=""></option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
  </select>

  <h3>
    <strong>Question 10</strong>
  </h3>
  <h4>You're familiar with what a "Wocket" is.</h4>
  <select class="chosen-select" id="q10">
    <option value=""></option>
    <option value="1">1 (Strongly Disagree)</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5 (Strongly Agree)</option>
  </select>

  <br>
  <br>
  <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">
    <i class="fa fa-check-circle" aria-hidden="true"></i>
    Submit</button>

  <br>
  <br>

  <h2 align="center">Your new doctor is:</h2>
  <!-- <h2>Your new doctor is:</h2> -->

  <br>

  <div ID="results">
    <H2 id="user"></H2>
    <img class="rounded float-left" alt="..." ID="leftImg" height="350" width="350">



    <H2 align="right" id="match-name"></H2>
    <img class="rounded float-right" alt="..." ID="rightImg" height="350" width="350">

  </div>



</body>



<!-- Modal -->
<div id="results-modal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">&times;</button>
        <h2 class="modal-title">
          <strong>Best Match</strong>
        </h2>
      </div>
      <div class="modal-body">
        <h2 id="match-name"></h2>
        <img id="matchImg" src="" alt="">
      </div>
      <div class="modal-footer">
        <button class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>




<!-- 
<footer class="footer">
  <div class="container">
    <p>
      <a href="#">API Doctors List</a> |
      <a href="#">Github Repo</a>
    </p>
  </div>
</footer>
</div>
</div> -->










<script type="text/javascript">

  // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
  // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
  // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
  // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file

  $("#submit").on("click", function () {


    event.preventDefault();

    // Form validation
    function validateForm() {
      var isValid = true;
      $(".form-control").each(function () {
        if ($(this).val() === "") {
          isValid = false;
        }
      });

      $(".chosen-select").each(function () {

        if ($(this).val() === "") {
          isValid = false;
        }
      });
      return isValid;
    }

    // If all required fields are filled
    if (validateForm()) {


      var userData = {
        name: $("#name").val().trim(),
        photo: $("#photo").val().trim(),
        scores: [
          $("#q1").val(),
          $("#q2").val(),
          $("#q3").val(),
          $("#q4").val(),
          $("#q5").val(),
          $("#q6").val(),
          $("#q7").val(),
          $("#q8").val(),
          $("#q9").val(),
          $("#q10").val()
        ]
      };




      //  console.log(userPic);



    } else {
      alert("Please fill out all fields before submitting!");
    }



    yourDoctoris(userData);

  });




  function yourDoctoris(userData) {
    var userName = userData.name;
    var userPic = userData.photo;

    console.log(userData);

    $("#user").text(userName);
    $("#leftImg").attr('src', userPic);

    $.post("/api/doctors", { userData: userData }, function (doctorData) {
      console.log(doctorData);

      // Grab the result from the AJAX post so that the best match's name and photo are displayed.
      $("#match-name").text(doctorData.name);
      $("#rightImg").attr("src", doctorData.photo);

      // Show the modal with the best match
      $("#results-modal").modal("toggle");

      console.log(doctorData.name);
      console.log(doctorData.photo);

      app.get("/", function (req, res) {
        res.sendFile(path.join(__dirname, "/app/data/doctor.js"));
      });
    });


  };


  // function yourDoctoris(userData) {

  //   var userName = userData.name;
  //   var userPic = userData.photo;


  //   $("#user").text(userName)


  //   $("#leftImg").attr('src', userPic)


  //   var doctorTest = doctors.indexOf("Dr. Jekyll");

  //   console.log(doctorTest);


    // $.post("/api/doctors", userData, function (doctorTest) {

    //   // Grab the result from the AJAX post so that the best match's name and photo are displayed.
      // $("#match-name").text(doctorTest.name);
      // $("#rightImg").attr("src", doctorTest.photo);

    //   // Show the modal with the best match
    //   $("#results-modal").modal("toggle");

    // });



    // console.log(userData.name);

    // var currentURL = window.location.origin;




  // };



</script>